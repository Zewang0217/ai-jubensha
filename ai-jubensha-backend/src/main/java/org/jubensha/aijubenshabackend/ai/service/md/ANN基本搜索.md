# åŸºæœ¬å‘é‡æœç´¢ | Milvus æ–‡æ¡£

[ğŸš€ Zilliz äº‘ï¼šå…¨é¢ç®¡ç† Milvus - é€Ÿåº¦å¿« 10 å€ã€‚é›¶çƒ¦æ¼ã€‚ä¸“ä¸ºäººå·¥æ™ºèƒ½æ‰“é€ ã€‚ç«‹å³å…è´¹è¯•ç”¨ â†’](https://cloud.zilliz.com/signup?utm_source=milvusio&utm_medium=referral&utm_campaign=milvus_top_banner&utm_content=docs/zh/single-vector-search.md)

[![Milvus](/images/layout/milvus-logo.svg)](/zh)

[![Zilliz](/images/layout/zilliz-logo.svg)](https://zilliz.com/)

-   ä¸ºä»€ä¹ˆé€‰æ‹© Milvus

    -   [ä»€ä¹ˆæ˜¯ Milvus](/zh/intro)
    -   [ä½¿ç”¨æ¡ˆä¾‹](/zh/use-cases)

-   [æ–‡æ¡£](/docs/zh)
-   æ•™ç¨‹

    -   [è®­ç»ƒè¥](/zh/bootcamp)
    -   [æ¼”ç¤º](/zh/milvus-demos)
    -   [è§†é¢‘](https://www.youtube.com/c/MilvusVectorDatabase)

-   å·¥å…·

    -   [Attu](https://github.com/zilliztech/attu)
    -   [Milvus CLI](https://github.com/zilliztech/milvus_cli)
    -   [é…ç½®å·¥å…·](/zh/tools/sizing)
    -   [Milvus å¤‡ä»½](https://github.com/zilliztech/milvus-backup)
    -   [VTS](https://github.com/zilliztech/vts)
    -   [æ·±åº¦æœç´¢å™¨](https://github.com/zilliztech/deep-searcher)
    -   [Claude Context](https://github.com/zilliztech/claude-context)

-   [åšå®¢](/zh/blog)
-   ç¤¾åŒº

    -   [ç±³å°”æ²ƒæ–¯åŠå…¬æ—¶é—´](https://meetings.hubspot.com/chloe-williams1/milvus-office-hour?uuid=4cb203e5-482a-47e0-90a6-7acc511d61f4)
    -   [æ¾å¼›](https://milvus.io/slack)
    -   [Discord](https://milvus.io/discord)
    -   [GitHub](https://github.com/milvus-io/milvus/discussions)
    -   [æ›´å¤šç¤¾åŒº](/zh/community)


ç®€ä½“ä¸­æ–‡

[Star42.6K](https://github.com/milvus-io/milvus)[é¢„çº¦æ¼”ç¤º](/zh/contact)[

å¼€å§‹ä½¿ç”¨

](https://cloud.zilliz.com/signup?utm_source=milvusio&utm_medium=referral&utm_campaign=milvus_nav_right&utm_content=docs/zh/single-vector-search.md)

[![Milvus](/images/layout/milvus-logo.svg)](/zh)

[![Zilliz](/images/layout/zilliz-logo.svg)](https://zilliz.com/)

ç®€ä½“ä¸­æ–‡

æœç´¢K

[é¦–é¡µ](/docs/zh)

[v2.6.x](/docs/single-vector-search.md)

â€‹

-   å…³äº Milvus

-   å¼€å§‹

-   æ¦‚å¿µ

-   ç”¨æˆ·æŒ‡å—

    -   [æ•°æ®åº“](/docs/zh/manage_databases.md)

    -   Collections

    -   Schema å’Œæ•°æ®å­—æ®µ

    -   æ’å…¥å’Œåˆ é™¤

    -   ç´¢å¼•

    -   æœç´¢

        -   [åŸºæœ¬ ANN æœç´¢](/docs/zh/single-vector-search.md)

        -   [è¿‡æ»¤æœç´¢](/docs/zh/filtered-search.md)

        -   [èŒƒå›´æœç´¢](/docs/zh/range-search.md)

        -   [åˆ†ç»„æœç´¢](/docs/zh/grouping-search.md)

        -   [ä¸»é”®æœç´¢](/docs/zh/primary-key-search.md)

        -   [æ··åˆæœç´¢](/docs/zh/multi-vector-search.md)

        -   [æŸ¥è¯¢](/docs/zh/get-and-scalar-query.md)

        -   è¿‡æ»¤

        -   [å…¨æ–‡æ£€ç´¢](/docs/zh/full-text-search.md)

        -   [æ–‡æœ¬åŒ¹é…](/docs/zh/keyword-match.md)

        -   [æ–‡æœ¬é«˜äº®æ˜¾ç¤º](/docs/zh/text-highlighter.md)

        -   [çŸ­è¯­åŒ¹é…](/docs/zh/phrase-match.md)

        -   [ä½¿ç”¨ Embeddings åˆ—è¡¨æœç´¢](/docs/zh/search-with-embedding-lists.md)

        -   [å°† Elasticsearch æŸ¥è¯¢è½¬è‡³ Milvus](/docs/zh/elasticsearch-queries-to-milvus.md)

        -   [æœç´¢è¿­ä»£å™¨](/docs/zh/with-iterators.md)

        -   [ä½¿ç”¨ Partition Key](/docs/zh/use-partition-key.md)


    -   Embeddings &amp; Rerankers
        
    -   å­˜å‚¨ä¼˜åŒ–


-   æ•°æ®å¯¼å…¥

-   ç®¡ç†æŒ‡å—

-   å·¥å…·

-   é›†æˆ

-   æ•™ç¨‹

-   å¸¸è§é—®é¢˜

-   API Reference


-   [é¦–é¡µ](/zh)
-   [æ–‡æ¡£](/docs/zh)
-   ç”¨æˆ·æŒ‡å—

-   æœç´¢

-   åŸºæœ¬ ANN æœç´¢


# åŸºæœ¬å‘é‡æœç´¢

è¿‘ä¼¼è¿‘é‚»ï¼ˆANNï¼‰æœç´¢ä»¥è®°å½•å‘é‡åµŒå…¥æ’åºé¡ºåºçš„ç´¢å¼•æ–‡ä»¶ä¸ºåŸºç¡€ï¼Œæ ¹æ®æ¥æ”¶åˆ°çš„æœç´¢è¯·æ±‚ä¸­æºå¸¦çš„æŸ¥è¯¢å‘é‡æŸ¥æ‰¾å‘é‡åµŒå…¥å­é›†ï¼Œå°†æŸ¥è¯¢å‘é‡ä¸å­ç¾¤ä¸­çš„å‘é‡è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶è¿”å›æœ€ç›¸ä¼¼çš„ç»“æœã€‚é€šè¿‡ ANN æœç´¢ï¼ŒMilvus æä¾›äº†é«˜æ•ˆçš„æœç´¢ä½“éªŒã€‚æœ¬é¡µå°†å¸®åŠ©æ‚¨äº†è§£å¦‚ä½•è¿›è¡ŒåŸºæœ¬çš„ ANN æœç´¢ã€‚

å¦‚æœåœ¨åˆ›å»º Collections ååŠ¨æ€æ·»åŠ æ–°å­—æ®µï¼ŒåŒ…å«è¿™äº›å­—æ®µçš„æœç´¢å°†è¿”å›å·²å®šä¹‰çš„é»˜è®¤å€¼ï¼Œå¯¹äºæœªæ˜ç¡®è®¾ç½®å€¼çš„å®ä½“ï¼Œåˆ™è¿”å› NULLã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…[å‘ç°æœ‰ Collections æ·»åŠ å­—æ®µ](/docs/zh/add-fields-to-an-existing-collection.md)ã€‚

## æ¦‚è¿°

ANN å’Œ k-Nearest Neighbors (kNN) æœç´¢æ˜¯å‘é‡ç›¸ä¼¼æ€§æœç´¢çš„å¸¸ç”¨æ–¹æ³•ã€‚åœ¨ kNN æœç´¢ä¸­ï¼Œå¿…é¡»å°†å‘é‡ç©ºé—´ä¸­çš„æ‰€æœ‰å‘é‡ä¸æœç´¢è¯·æ±‚ä¸­æºå¸¦çš„æŸ¥è¯¢å‘é‡è¿›è¡Œæ¯”è¾ƒï¼Œç„¶åæ‰¾å‡ºæœ€ç›¸ä¼¼çš„å‘é‡ï¼Œè¿™æ—¢è€—æ—¶åˆè€—è´¹èµ„æºã€‚

ä¸ kNN æœç´¢ä¸åŒï¼ŒANN æœç´¢ç®—æ³•è¦æ±‚æä¾›ä¸€ä¸ª**ç´¢å¼•**æ–‡ä»¶ï¼Œè®°å½•å‘é‡ Embeddings çš„æ’åºé¡ºåºã€‚å½“æ”¶åˆ°æœç´¢è¯·æ±‚æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç´¢å¼•æ–‡ä»¶ä½œä¸ºå‚è€ƒï¼Œå¿«é€Ÿæ‰¾åˆ°å¯èƒ½åŒ…å«ä¸æŸ¥è¯¢å‘é‡æœ€ç›¸ä¼¼çš„å‘é‡åµŒå…¥çš„å­ç»„ã€‚ç„¶åï¼Œä½ å¯ä»¥ä½¿ç”¨æŒ‡å®šçš„**åº¦é‡ç±»å‹**æ¥æµ‹é‡æŸ¥è¯¢å‘é‡ä¸å­ç»„ä¸­çš„å‘é‡ä¹‹é—´çš„ç›¸ä¼¼åº¦ï¼Œæ ¹æ®ä¸æŸ¥è¯¢å‘é‡çš„ç›¸ä¼¼åº¦å¯¹ç»„æˆå‘˜è¿›è¡Œæ’åºï¼Œå¹¶æ‰¾å‡º**å‰ K ä¸ª**ç»„æˆå‘˜ã€‚

ANN æœç´¢ä¾èµ–äºé¢„å»ºç´¢å¼•ï¼Œæœç´¢ååé‡ã€å†…å­˜ä½¿ç”¨é‡å’Œæœç´¢æ­£ç¡®æ€§å¯èƒ½ä¼šå› é€‰æ‹©çš„ç´¢å¼•ç±»å‹è€Œä¸åŒã€‚æ‚¨éœ€è¦åœ¨æœç´¢æ€§èƒ½å’Œæ­£ç¡®æ€§ä¹‹é—´å–å¾—å¹³è¡¡ã€‚

ä¸ºäº†å‡å°‘å­¦ä¹ æ›²çº¿ï¼ŒMilvus æä¾›äº†**AUTOINDEX**ã€‚é€šè¿‡**AUTOINDEX**ï¼ŒMilvus å¯ä»¥åœ¨å»ºç«‹ç´¢å¼•çš„åŒæ—¶åˆ†æ Collections ä¸­çš„æ•°æ®åˆ†å¸ƒï¼Œå¹¶æ ¹æ®åˆ†æç»“æœè®¾ç½®æœ€ä¼˜åŒ–çš„ç´¢å¼•å‚æ•°ï¼Œä»è€Œåœ¨æœç´¢æ€§èƒ½å’Œæ­£ç¡®æ€§ä¹‹é—´å–å¾—å¹³è¡¡ã€‚

åœ¨æœ¬èŠ‚ä¸­ï¼Œä½ å°†æ‰¾åˆ°æœ‰å…³ä»¥ä¸‹ä¸»é¢˜çš„è¯¦ç»†ä¿¡æ¯ï¼š

-   [å•å‘é‡æœç´¢](/docs/zh/single-vector-search.md#Single-Vector-Search)

-   [æ‰¹é‡å‘é‡æœç´¢](/docs/zh/single-vector-search.md#Bulk-Vector-Search)

-   [åˆ†åŒºä¸­çš„ ANN æœç´¢](/docs/zh/single-vector-search.md#ANN-Search-in-Partition)

-   [ä½¿ç”¨è¾“å‡ºå­—æ®µ](/docs/zh/single-vector-search.md#Use-Output-Fields)

-   [ä½¿ç”¨é™åˆ¶å’Œåç§»](/docs/zh/single-vector-search.md#Use-Limit-and-Offset)

-   [ä½¿ç”¨çº§åˆ«](/docs/zh/single-vector-search.md#Use-Level)

-   [è·å–å¬å›ç‡](/docs/zh/single-vector-search.md#Get-Recall-Rate)

-   [å¢å¼º ANN æœç´¢](/docs/zh/single-vector-search.md#Enhancing-ANN-Search)


## å•å‘é‡æœç´¢

åœ¨ ANN æœç´¢ä¸­ï¼Œå•å‘é‡æœç´¢æŒ‡çš„æ˜¯åªæ¶‰åŠä¸€ä¸ªæŸ¥è¯¢å‘é‡çš„æœç´¢ã€‚æ ¹æ®é¢„å»ºç´¢å¼•å’Œæœç´¢è¯·æ±‚ä¸­æºå¸¦çš„åº¦é‡ç±»å‹ï¼ŒMilvus å°†æ‰¾åˆ°ä¸æŸ¥è¯¢å‘é‡æœ€ç›¸ä¼¼çš„å‰ K ä¸ªå‘é‡ã€‚

æœ¬èŠ‚å°†ä»‹ç»å¦‚ä½•è¿›è¡Œå•å‘é‡æœç´¢ã€‚æœç´¢è¯·æ±‚æºå¸¦å•ä¸ªæŸ¥è¯¢å‘é‡ï¼Œè¦æ±‚ Milvus ä½¿ç”¨å†…ç§¯ï¼ˆIPï¼‰è®¡ç®—æŸ¥è¯¢å‘é‡ä¸ Collections ä¸­å‘é‡çš„ç›¸ä¼¼åº¦ï¼Œå¹¶è¿”å›ä¸‰ä¸ªæœ€ç›¸ä¼¼çš„å‘é‡ã€‚

[Python](#python) [Java](#java) [Go](#go) [NodeJS](#javascript) [cURL](#bash)

```python
from pymilvus import MilvusClient

client = MilvusClient(
    uri="http://localhost:19530",
    token="root:Milvus"
)

# 4. Single vector search
query_vector = [0.3580376395471989, -0.6023495712049978, 0.18414012509913835, -0.26286205330961354, 0.9029438446296592]
res = client.search(
    collection_name="quick_setup",
    anns_field="vector",
    data=[query_vector],
    limit=3,
    search_params={"metric_type": "IP"}
)

for hits in res:
    for hit in hits:
        print(hit)

# [
#     [
#         {
#             "id": 551,
#             "distance": 0.08821295201778412,
#             "entity": {}
#         },
#         {
#             "id": 296,
#             "distance": 0.0800950899720192,
#             "entity": {}
#         },
#         {
#             "id": 43,
#             "distance": 0.07794742286205292,
#             "entity": {}
#         }
#     ]
# ]

  
    
  
```

```java
import io.milvus.v2.client.ConnectConfig;
import io.milvus.v2.client.MilvusClientV2;
import io.milvus.v2.service.vector.request.SearchReq;
import io.milvus.v2.service.vector.request.data.FloatVec;
import io.milvus.v2.service.vector.response.SearchResp;

import java.util.*;

MilvusClientV2 client = new MilvusClientV2(ConnectConfig.builder()
        .uri("http://localhost:19530")
        .token("root:Milvus")
        .build());
    
FloatVec queryVector = new FloatVec(new float[]{0.3580376395471989f, -0.6023495712049978f, 0.18414012509913835f, -0.26286205330961354f, 0.9029438446296592f});
SearchReq searchReq = SearchReq.builder()
        .collectionName("quick_setup")
        .data(Collections.singletonList(queryVector))
        .annsField("vector")
        .topK(3)
        .build();

SearchResp searchResp = client.search(searchReq);

List<List<SearchResp.SearchResult>> searchResults = searchResp.getSearchResults();
for (List<SearchResp.SearchResult> results : searchResults) {
    System.out.println("TopK results:");
    for (SearchResp.SearchResult result : results) {
        System.out.println(result);
    }
}

// Output
// TopK results:
// SearchResp.SearchResult(entity={}, score=0.95944905, id=5)
// SearchResp.SearchResult(entity={}, score=0.8689616, id=1)
// SearchResp.SearchResult(entity={}, score=0.866088, id=7)

  
    
  
```

```go
import (
    "context"
    "fmt"

    "github.com/milvus-io/milvus/client/v2/entity"
    "github.com/milvus-io/milvus/client/v2/milvusclient"
)

ctx, cancel := context.WithCancel(context.Background())
defer cancel()

milvusAddr := "localhost:19530"
token := "root:Milvus"

client, err := milvusclient.New(ctx, &milvusclient.ClientConfig{
    Address: milvusAddr,
    APIKey:  token,
})
if err != nil {
    fmt.Println(err.Error())
    // handle error
}
defer client.Close(ctx)

queryVector := []float32{0.3580376395471989, -0.6023495712049978, 0.18414012509913835, -0.26286205330961354, 0.9029438446296592}

resultSets, err := client.Search(ctx, milvusclient.NewSearchOption(
    "quick_setup", // collectionName
    3,               // limit
    []entity.Vector{entity.FloatVector(queryVector)},
).WithANNSField("vector"))
if err != nil {
    fmt.Println(err.Error())
    // handle error
}

for _, resultSet := range resultSets {
    fmt.Println("IDs: ", resultSet.IDs.FieldData().GetScalars())
    fmt.Println("Scores: ", resultSet.Scores)
}

  
    
  
```

```javascript
import { MilvusClient, DataType } from "@zilliz/milvus2-sdk-node";

const address = "http://localhost:19530";
const token = "root:Milvus";
const client = new MilvusClient({address, token});

// 4. Single vector search
var query_vector = [0.3580376395471989, -0.6023495712049978, 0.18414012509913835, -0.26286205330961354, 0.9029438446296592],

res = await client.search({
    collection_name: "quick_setup",
    data: query_vector,
    limit: 3, // The number of results to return
})

console.log(res.results)

// [
//   { score: 0.08821295201778412, id: '551' },
//   { score: 0.0800950899720192, id: '296' },
//   { score: 0.07794742286205292, id: '43' }
// ]

  
    
  
```

```bash
export CLUSTER_ENDPOINT="http://localhost:19530"
export TOKEN="root:Milvus"

curl --request POST \
--url "${CLUSTER_ENDPOINT}/v2/vectordb/entities/search" \
--header "Authorization: Bearer ${TOKEN}" \
--header "Content-Type: application/json" \
-d '{
    "collectionName": "quick_setup",
    "data": [
        [0.3580376395471989, -0.6023495712049978, 0.18414012509913835, -0.26286205330961354, 0.9029438446296592]
    ],
    "annsField": "vector",
    "limit": 3
}'

# {
#     "code": 0,
#     "data": [
#         {
#             "distance": 0.08821295201778412,
#             "id": 551
#         },
#         {
#             "distance": 0.0800950899720192,
#             "id": 296
#         },
#         {
#             "distance": 0.07794742286205292,
#             "id": 43
#         }
#     ]
# }

  
    
  
```

Milvus æ ¹æ®æœç´¢ç»“æœä¸æŸ¥è¯¢å‘é‡çš„ç›¸ä¼¼åº¦å¾—åˆ†ä»é«˜åˆ°ä½æ’åˆ—æœç´¢ç»“æœã€‚ç›¸ä¼¼åº¦å¾—åˆ†ä¹Ÿç§°ä¸ºä¸æŸ¥è¯¢å‘é‡çš„è·ç¦»ï¼Œå…¶å€¼èŒƒå›´éšä½¿ç”¨çš„åº¦é‡ç±»å‹è€Œå˜åŒ–ã€‚

ä¸‹è¡¨åˆ—å‡ºäº†é€‚ç”¨çš„åº¦é‡ç±»å‹å’Œç›¸åº”çš„è·ç¦»èŒƒå›´ã€‚

åº¦é‡ç±»å‹

ç‰¹å¾

è·ç¦»èŒƒå›´

`L2`

å€¼è¶Šå°è¡¨ç¤ºç›¸ä¼¼åº¦è¶Šé«˜ã€‚

\[0, âˆ)

`IP`

æ•°å€¼è¶Šå¤§ï¼Œè¡¨ç¤ºç›¸ä¼¼åº¦è¶Šé«˜ã€‚

\[-1, 1\]

`COSINE`

æ•°å€¼è¶Šå¤§ï¼Œè¡¨ç¤ºç›¸ä¼¼åº¦è¶Šé«˜ã€‚

\[-1, 1\]

`JACCARD`

å€¼è¶Šå°ï¼Œè¡¨ç¤ºç›¸ä¼¼åº¦è¶Šé«˜ã€‚

\[0, 1\]

`HAMMING`

å€¼è¶Šå°ï¼Œè¡¨ç¤ºç›¸ä¼¼åº¦è¶Šé«˜ã€‚

\[0ï¼Œdim(å‘é‡)\] æ‰¹é‡å‘é‡æœç´¢

## æ‰¹é‡å‘é‡æœç´¢

åŒæ ·ï¼Œæ‚¨ä¹Ÿå¯ä»¥åœ¨ä¸€ä¸ªæœç´¢è¯·æ±‚ä¸­åŒ…å«å¤šä¸ªæŸ¥è¯¢å‘é‡ã€‚Milvus å°†å¹¶è¡Œå¯¹æŸ¥è¯¢å‘é‡è¿›è¡Œ ANN æœç´¢ï¼Œå¹¶è¿”å›ä¸¤ç»„ç»“æœã€‚

[Python](#python) [Java](#java) [Go](#go) [NodeJS](#javascript) [cURL](#bash)

```python
# 7. Search with multiple vectors
# 7.1. Prepare query vectors
query_vectors = [
    [0.041732933, 0.013779674, -0.027564144, -0.013061441, 0.009748648],
    [0.0039737443, 0.003020432, -0.0006188639, 0.03913546, -0.00089768134]
]

# 7.2. Start search
res = client.search(
    collection_name="quick_setup",
    data=query_vectors,
    limit=3,
)

for hits in res:
    print("TopK results:")
    for hit in hits:
        print(hit)

# Output
#
# [
#     [
#         {
#             "id": 551,
#             "distance": 0.08821295201778412,
#             "entity": {}
#         },
#         {
#             "id": 296,
#             "distance": 0.0800950899720192,
#             "entity": {}
#         },
#         {
#             "id": 43,
#             "distance": 0.07794742286205292,
#             "entity": {}
#         }
#     ],
#     [
#         {
#             "id": 730,
#             "distance": 0.04431751370429993,
#             "entity": {}
#         },
#         {
#             "id": 333,
#             "distance": 0.04231833666563034,
#             "entity": {}
#         },
#         {
#             "id": 232,
#             "distance": 0.04221535101532936,
#             "entity": {}
#         }
#     ]
# ]

  
    
  
```

```java
import io.milvus.v2.service.vector.request.SearchReq
import io.milvus.v2.service.vector.request.data.BaseVector;
import io.milvus.v2.service.vector.request.data.FloatVec;
import io.milvus.v2.service.vector.response.SearchResp

List<BaseVector> queryVectors = Arrays.asList(
        new FloatVec(new float[]{0.041732933f, 0.013779674f, -0.027564144f, -0.013061441f, 0.009748648f}),
        new FloatVec(new float[]{0.0039737443f, 0.003020432f, -0.0006188639f, 0.03913546f, -0.00089768134f})
);
SearchReq searchReq = SearchReq.builder()
        .collectionName("quick_setup")
        .data(queryVectors)
        .topK(3)
        .build();

SearchResp searchResp = client.search(searchReq);

List<List<SearchResp.SearchResult>> searchResults = searchResp.getSearchResults();
for (List<SearchResp.SearchResult> results : searchResults) {
    System.out.println("TopK results:");
    for (SearchResp.SearchResult result : results) {
        System.out.println(result);
    }
}

// Output
// TopK results:
// SearchResp.SearchResult(entity={}, score=0.49548206, id=1)
// SearchResp.SearchResult(entity={}, score=0.320147, id=3)
// SearchResp.SearchResult(entity={}, score=0.107413776, id=6)
// TopK results:
// SearchResp.SearchResult(entity={}, score=0.5678123, id=6)
// SearchResp.SearchResult(entity={}, score=0.32368967, id=2)
// SearchResp.SearchResult(entity={}, score=0.24108477, id=3)

  
    
  
```

```go
queryVectors := []entity.Vector{
    entity.FloatVector([]float32{0.3580376395471989, -0.6023495712049978, 0.18414012509913835, -0.26286205330961354, 0.9029438446296592}),
    entity.FloatVector([]float32{0.19886812562848388, 0.06023560599112088, 0.6976963061752597, 0.2614474506242501, 0.838729485096104}),
}

resultSets, err := client.Search(ctx, milvusclient.NewSearchOption(
    "quick_setup", // collectionName
    3,               // limit
    queryVectors,
).WithConsistencyLevel(entity.ClStrong).
    WithANNSField("vector"))
if err != nil {
    fmt.Println(err.Error())
    // handle error
}

for _, resultSet := range resultSets {
    fmt.Println("IDs: ", resultSet.IDs.FieldData().GetScalars())
    fmt.Println("Scores: ", resultSet.Scores)
}

  
    
  
```

```javascript
// 7. Search with multiple vectors
const query_vectors = [
    [0.3580376395471989, -0.6023495712049978, 0.18414012509913835, -0.26286205330961354, 0.9029438446296592], 
    [0.19886812562848388, 0.06023560599112088, 0.6976963061752597, 0.2614474506242501, 0.838729485096104]
]

res = await client.search({
    collection_name: "quick_setup",
    vectors: query_vectors,
    limit: 3,
})

console.log(res.results)

// Output
// 
// [
//   [
//     { score: 0.08821295201778412, id: '551' },
//     { score: 0.0800950899720192, id: '296' },
//     { score: 0.07794742286205292, id: '43' }
//   ],
//   [
//     { score: 0.04431751370429993, id: '730' },
//     { score: 0.04231833666563034, id: '333' },
//     { score: 0.04221535101532936, id: '232' },
//   ]
// ]

  
    
  
```

```bash
export CLUSTER_ENDPOINT="http://localhost:19530"
export TOKEN="root:Milvus"

curl --request POST \
--url "${CLUSTER_ENDPOINT}/v2/vectordb/entities/search" \
--header "Authorization: Bearer ${TOKEN}" \
--header "Content-Type: application/json" \
-d '{
    "collectionName": "quick_setup",
    "data": [
        [0.3580376395471989, -0.6023495712049978, 0.18414012509913835, -0.26286205330961354, 0.9029438446296592],
        [0.19886812562848388, 0.06023560599112088, 0.6976963061752597, 0.2614474506242501, 0.838729485096104]
    ],
    "annsField": "vector",
    "limit": 3
}'

# {
#     "code": 0,
#     "data": [
#         [
#           {
#               "distance": 0.08821295201778412,
#               "id": 551
#           },
#           {
#               "distance": 0.0800950899720192,
#               "id": 296
#           },
#           {
#               "distance": 0.07794742286205292,
#               "id": 43
#           }
#         ],
#         [
#           {
#               "distance": 0.04431751370429993,
#               "id": 730
#           },
#           {
#               "distance": 0.04231833666563034,
#               "id": 333
#           },
#           {
#               "distance": 0.04221535101532936,
#               "id": 232
#           }
#        ]
#     ],
#     "topks":[3]
# }

  
    
  
```

## ä¸»é”®æœç´¢Compatible with Milvus 2.6.9+

å¦‚æœç›®æ ‡ Collections ä¸­å·²ç»å­˜åœ¨æŸ¥è¯¢å‘é‡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä¸»é”®æ¥ä»£æ›¿è®¾ç½®æŸ¥è¯¢å‘é‡ã€‚

[Python](#python) [Java](#java) [NodeJS](#javascript) [Go](#go) [cURL](#bash)

```python
res = client.search(
    collection_name="quick_setup",
    anns_field="vector",
    ids=[551, 296, 43],
    limit=3,
    search_params={"metric_type": "IP"}
)

for hits in res:
    for hit in hits:
        print(hit)

  
    
  
```

```java
// java

  
    
  
```

```javascript
// node.js

  
    
  
```

```go
// go

  
    
  
```

```bash
# restful

  
    
  
```

## åœ¨åˆ†åŒºä¸­è¿›è¡Œ ANN æœç´¢

å‡è®¾æ‚¨åœ¨ä¸€ä¸ª Collections ä¸­åˆ›å»ºäº†å¤šä¸ªåˆ†åŒºï¼Œæ‚¨å¯ä»¥å°†æœç´¢èŒƒå›´ç¼©å°åˆ°ç‰¹å®šæ•°é‡çš„åˆ†åŒºã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥åœ¨æœç´¢è¯·æ±‚ä¸­åŒ…å«ç›®æ ‡åˆ†åŒºåç§°ï¼Œå°†æœç´¢èŒƒå›´é™åˆ¶åœ¨æŒ‡å®šçš„åˆ†åŒºå†…ã€‚å‡å°‘æœç´¢æ‰€æ¶‰åŠçš„åˆ†åŒºæ•°é‡å¯ä»¥æé«˜æœç´¢æ€§èƒ½ã€‚

ä¸‹é¢çš„ä»£ç ç‰‡æ®µå‡å®š Collections ä¸­æœ‰ä¸€ä¸ªåä¸º**PartitionA**çš„åˆ†åŒºã€‚

[Python](#python) [Java](#java) [Go](#go) [NodeJS](#javascript) [cURL](#bash)

```python
# 4. Single vector search
query_vector = [0.3580376395471989, -0.6023495712049978, 0.18414012509913835, -0.26286205330961354, 0.9029438446296592]
res = client.search(
    collection_name="quick_setup",
    partition_names=["partitionA"],
    data=[query_vector],
    limit=3,
)

for hits in res:
    print("TopK results:")
    for hit in hits:
        print(hit)

# [
#     [
#         {
#             "id": 551,
#             "distance": 0.08821295201778412,
#             "entity": {}
#         },
#         {
#             "id": 296,
#             "distance": 0.0800950899720192,
#             "entity": {}
#         },
#         {
#             "id": 43,
#             "distance": 0.07794742286205292,
#             "entity": {}
#         }
#     ]
# ]

  
    
  
```

```java
import io.milvus.v2.service.vector.request.SearchReq
import io.milvus.v2.service.vector.request.data.FloatVec;
import io.milvus.v2.service.vector.response.SearchResp

FloatVec queryVector = new FloatVec(new float[]{0.3580376395471989f, -0.6023495712049978f, 0.18414012509913835f, -0.26286205330961354f, 0.9029438446296592f});
SearchReq searchReq = SearchReq.builder()
        .collectionName("quick_setup")
        .partitionNames(Collections.singletonList("partitionA"))
        .data(Collections.singletonList(queryVector))
        .topK(3)
        .build();

SearchResp searchResp = client.search(searchReq);

List<List<SearchResp.SearchResult>> searchResults = searchResp.getSearchResults();
for (List<SearchResp.SearchResult> results : searchResults) {
    System.out.println("TopK results:");
    for (SearchResp.SearchResult result : results) {
        System.out.println(result);
    }
}

// Output
// TopK results:
// SearchResp.SearchResult(entity={}, score=0.6395302, id=13)
// SearchResp.SearchResult(entity={}, score=0.5408028, id=12)
// SearchResp.SearchResult(entity={}, score=0.49696884, id=17)

  
    
  
```

```go
queryVector := []float32{0.3580376395471989, -0.6023495712049978, 0.18414012509913835, -0.26286205330961354, 0.9029438446296592}

resultSets, err := client.Search(ctx, milvusclient.NewSearchOption(
    "quick_setup", // collectionName
    3,               // limit
    []entity.Vector{entity.FloatVector(queryVector)},
).WithConsistencyLevel(entity.ClStrong).
    WithPartitions("partitionA").
    WithANNSField("vector"))
if err != nil {
    fmt.Println(err.Error())
    // handle error
}

for _, resultSet := range resultSets {
    fmt.Println("IDs: ", resultSet.IDs.FieldData().GetScalars())
    fmt.Println("Scores: ", resultSet.Scores)
}

  
    
  
```

```javascript
// 4. Single vector search
var query_vector = [0.3580376395471989, -0.6023495712049978, 0.18414012509913835, -0.26286205330961354, 0.9029438446296592],

res = await client.search({
    collection_name: "quick_setup",
    partition_names: ["partitionA"],
    data: query_vector,
    limit: 3, // The number of results to return
})

console.log(res.results)

// [
//   { score: 0.08821295201778412, id: '551' },
//   { score: 0.0800950899720192, id: '296' },
//   { score: 0.07794742286205292, id: '43' }
// ]

  
    
  
```

```bash
export CLUSTER_ENDPOINT="http://localhost:19530"
export TOKEN="root:Milvus"

curl --request POST \
--url "${CLUSTER_ENDPOINT}/v2/vectordb/entities/search" \
--header "Authorization: Bearer ${TOKEN}" \
--header "Content-Type: application/json" \
-d '{
    "collectionName": "quick_setup",
    "partitionNames": ["partitionA"],
    "data": [
        [0.3580376395471989, -0.6023495712049978, 0.18414012509913835, -0.26286205330961354, 0.9029438446296592]
    ],
    "annsField": "vector",
    "limit": 3
}'

# {
#     "code": 0,
#     "data": [
#         {
#             "distance": 0.08821295201778412,
#             "id": 551
#         },
#         {
#             "distance": 0.0800950899720192,
#             "id": 296
#         },
#         {
#             "distance": 0.07794742286205292,
#             "id": 43
#         }
#     ],
#     "topks":[3]
# }

  
    
  
```

## ä½¿ç”¨è¾“å‡ºå­—æ®µ

åœ¨æœç´¢ç»“æœä¸­ï¼ŒMilvus é»˜è®¤ä¼šåŒ…å«åŒ…å« TOP-K å‘é‡åµŒå…¥çš„å®ä½“çš„ä¸»å­—æ®µå€¼å’Œç›¸ä¼¼åº¦è·ç¦»/åˆ†æ•°ã€‚æ‚¨å¯ä»¥åœ¨æœç´¢è¯·æ±‚ä¸­åŒ…å«ç›®æ ‡å­—æ®µï¼ˆåŒ…æ‹¬å‘é‡å’Œæ ‡é‡å­—æ®µï¼‰çš„åç§°ä½œä¸ºè¾“å‡ºå­—æ®µï¼Œä»¥ä½¿æœç´¢ç»“æœæºå¸¦è¿™äº›å®ä½“ä¸­å…¶ä»–å­—æ®µçš„å€¼ã€‚

[Python](#python) [Java](#java) [Go](#go) [NodeJS](#javascript) [cURL](#bash)

```python
# 4. Single vector search
query_vector = [0.3580376395471989, -0.6023495712049978, 0.18414012509913835, -0.26286205330961354, 0.9029438446296592],

res = client.search(
    collection_name="quick_setup",
    data=[query_vector],
    limit=3, # The number of results to return
    search_params={"metric_type": "IP"}ï¼Œ
    output_fields=["color"]
)

print(res)

# [
#     [
#         {
#             "id": 551,
#             "distance": 0.08821295201778412,
#             "entity": {
#                 "color": "orange_6781"
#             }
#         },
#         {
#             "id": 296,
#             "distance": 0.0800950899720192,
#             "entity": {
#                 "color": "red_4794"
#             }
#         },
#         {
#             "id": 43,
#             "distance": 0.07794742286205292,
#             "entity": {
#                 "color": "grey_8510"
#             }
#         }
#     ]
# ]

  
    
  
```

```java
import io.milvus.v2.service.vector.request.SearchReq
import io.milvus.v2.service.vector.request.data.FloatVec;
import io.milvus.v2.service.vector.response.SearchResp

FloatVec queryVector = new FloatVec(new float[]{0.3580376395471989f, -0.6023495712049978f, 0.18414012509913835f, -0.26286205330961354f, 0.9029438446296592f});
SearchReq searchReq = SearchReq.builder()
        .collectionName("quick_setup")
        .data(Collections.singletonList(queryVector))
        .topK(3)
        .outputFields(Collections.singletonList("color"))
        .build();

SearchResp searchResp = client.search(searchReq);

List<List<SearchResp.SearchResult>> searchResults = searchResp.getSearchResults();
for (List<SearchResp.SearchResult> results : searchResults) {
    System.out.println("TopK results:");
    for (SearchResp.SearchResult result : results) {
        System.out.println(result);
    }
}

// Output
// TopK results:
// SearchResp.SearchResult(entity={color=black_9955}, score=0.95944905, id=5)
// SearchResp.SearchResult(entity={color=red_7319}, score=0.8689616, id=1)
// SearchResp.SearchResult(entity={color=white_5015}, score=0.866088, id=7)

  
    
  
```

```go
queryVector := []float32{0.3580376395471989, -0.6023495712049978, 0.18414012509913835, -0.26286205330961354, 0.9029438446296592}

resultSets, err := client.Search(ctx, milvusclient.NewSearchOption(
    "quick_setup", // collectionName
    3,               // limit
    []entity.Vector{entity.FloatVector(queryVector)},
).WithConsistencyLevel(entity.ClStrong).
    WithANNSField("vector").
    WithOutputFields("color"))
if err != nil {
    fmt.Println(err.Error())
    // handle error
}

for _, resultSet := range resultSets {
    fmt.Println("IDs: ", resultSet.IDs.FieldData().GetScalars())
    fmt.Println("Scores: ", resultSet.Scores)
    fmt.Println("color: ", resultSet.GetColumn("color").FieldData().GetScalars())
}

  
    
  
```

```javascript
// 4. Single vector search
var query_vector = [0.3580376395471989, -0.6023495712049978, 0.18414012509913835, -0.26286205330961354, 0.9029438446296592],

res = await client.search({
    collection_name: "quick_setup",
    data: query_vector,
    limit: 3, // The number of results to return
    output_fields: ["color"]
})

console.log(res.results)

// [
//   { score: 0.08821295201778412, id: '551', entity: {"color": "orange_6781"}},
//   { score: 0.0800950899720192, id: '296' entity: {"color": "red_4794"}},
//   { score: 0.07794742286205292, id: '43' entity: {"color": "grey_8510"}}
// ]

  
    
  
```

```bash
export CLUSTER_ENDPOINT="http://localhost:19530"
export TOKEN="root:Milvus"

curl --request POST \
--url "${CLUSTER_ENDPOINT}/v2/vectordb/entities/search" \
--header "Authorization: Bearer ${TOKEN}" \
--header "Content-Type: application/json" \
-d '{
    "collectionName": "quick_setup",
    "data": [
        [0.3580376395471989, -0.6023495712049978, 0.18414012509913835, -0.26286205330961354, 0.9029438446296592]
    ],
    "annsField": "vector",
    "limit": 3,
    "outputFields": ["color"]
}'

# {
#     "code": 0,
#     "data": [
#         {
#             "distance": 0.08821295201778412,
#             "id": 551,
#             "color": "orange_6781"
#         },
#         {
#             "distance": 0.0800950899720192,
#             "id": 296,
#             "color": "red_4794"
#         },
#         {
#             "distance": 0.07794742286205292,
#             "id": 43
#             "color": "grey_8510"
#         }
#     ],
#     "topks":[3]
# }

  
    
  
```

## ä½¿ç”¨é™åˆ¶å’Œåç§»

æ‚¨å¯èƒ½ä¼šæ³¨æ„åˆ°ï¼Œæœç´¢è¯·æ±‚ä¸­åŒ…å«çš„å‚æ•°`limit` å†³å®šäº†æœç´¢ç»“æœä¸­åŒ…å«çš„å®ä½“æ•°é‡ã€‚è¯¥å‚æ•°æŒ‡å®šäº†å•æ¬¡æœç´¢ä¸­è¿”å›å®ä½“çš„æœ€å¤§æ•°é‡ï¼Œé€šå¸¸ç§°ä¸º**top-Kã€‚**

å¦‚æœå¸Œæœ›æ‰§è¡Œåˆ†é¡µæŸ¥è¯¢ï¼Œå¯ä»¥ä½¿ç”¨å¾ªç¯æ¥å‘é€å¤šä¸ªæœç´¢è¯·æ±‚ï¼Œæ¯ä¸ªæŸ¥è¯¢è¯·æ±‚ä¸­éƒ½åŒ…å«**Limit**å’Œ**Offset**å‚æ•°ã€‚å…·ä½“æ¥è¯´ï¼Œå¯ä»¥å°† "**é™åˆ¶ "**å‚æ•°è®¾ç½®ä¸ºå¸Œæœ›åŒ…å«åœ¨å½“å‰æŸ¥è¯¢ç»“æœä¸­çš„å®ä½“æ•°é‡ï¼Œå°† "**åç§»**"å‚æ•°è®¾ç½®ä¸ºå·²ç»è¿”å›çš„å®ä½“æ€»æ•°ã€‚

ä¸‹è¡¨æ¦‚è¿°äº†åœ¨ä¸€æ¬¡è¿”å› 100 ä¸ª "å®ä½“ "æ—¶ï¼Œå¦‚ä½•ä¸ºåˆ†é¡µæŸ¥è¯¢è®¾ç½® "**é™åˆ¶**"å’Œ**"åç§»**"å‚æ•°ã€‚

æŸ¥è¯¢

æ¯æ¬¡æŸ¥è¯¢è¦è¿”å›çš„å®ä½“

å·²è¿”å›å®ä½“æ€»æ•°

**ç¬¬ 1 æ¬¡**æŸ¥è¯¢

100

0

**ç¬¬äºŒæ¬¡**æŸ¥è¯¢

100

100

**ç¬¬ä¸‰æ¬¡**æŸ¥è¯¢

100

200

**ç¬¬ n æ¬¡**æŸ¥è¯¢

100

100 x (n-1)

è¯·æ³¨æ„ï¼Œåœ¨ä¸€æ¬¡ ANN æœç´¢ä¸­ï¼Œ`limit` å’Œ`offset` çš„æ€»å’Œåº”å°äº 16 384ã€‚

[Python](#python) [Java](#java) [Go](#go) [NodeJS](#javascript) [cURL](#bash)

```python
# 4. Single vector search
query_vector = [0.3580376395471989, -0.6023495712049978, 0.18414012509913835, -0.26286205330961354, 0.9029438446296592],

res = client.search(
    collection_name="quick_setup",
    data=[query_vector],
    limit=3, # The number of results to return
    search_params={
        "metric_type": "IP", 
        "offset": 10 # The records to skip
    }
)

  
    
  
```

```java
import io.milvus.v2.service.vector.request.SearchReq
import io.milvus.v2.service.vector.request.data.FloatVec;
import io.milvus.v2.service.vector.response.SearchResp

FloatVec queryVector = new FloatVec(new float[]{0.3580376395471989f, -0.6023495712049978f, 0.18414012509913835f, -0.26286205330961354f, 0.9029438446296592f});
SearchReq searchReq = SearchReq.builder()
        .collectionName("quick_setup")
        .data(Collections.singletonList(queryVector))
        .topK(3)
        .offset(10)
        .build();

SearchResp searchResp = client.search(searchReq);

List<List<SearchResp.SearchResult>> searchResults = searchResp.getSearchResults();
for (List<SearchResp.SearchResult> results : searchResults) {
    System.out.println("TopK results:");
    for (SearchResp.SearchResult result : results) {
        System.out.println(result);
    }
}

// Output
// TopK results:
// SearchResp.SearchResult(entity={}, score=0.24120237, id=16)
// SearchResp.SearchResult(entity={}, score=0.22559784, id=9)
// SearchResp.SearchResult(entity={}, score=-0.09906838, id=2)

  
    
  
```

```go
queryVector := []float32{0.3580376395471989, -0.6023495712049978, 0.18414012509913835, -0.26286205330961354, 0.9029438446296592}

resultSets, err := client.Search(ctx, milvusclient.NewSearchOption(
    "quick_setup", // collectionName
    3,               // limit
    []entity.Vector{entity.FloatVector(queryVector)},
).WithConsistencyLevel(entity.ClStrong).
    WithANNSField("vector").
    WithOffset(10))
if err != nil {
    fmt.Println(err.Error())
    // handle error
}

for _, resultSet := range resultSets {
    fmt.Println("IDs: ", resultSet.IDs.FieldData().GetScalars())
    fmt.Println("Scores: ", resultSet.Scores)
}

  
    
  
```

```javascript
// 4. Single vector search
var query_vector = [0.3580376395471989, -0.6023495712049978, 0.18414012509913835, -0.26286205330961354, 0.9029438446296592],

res = await client.search({
    collection_name: "quick_setup",
    data: query_vector,
    limit: 3, // The number of results to return,
    offset: 10 // The record to skip.
})

  
    
  
```

```bash
export CLUSTER_ENDPOINT="http://localhost:19530"
export TOKEN="root:Milvus"

curl --request POST \
--url "${CLUSTER_ENDPOINT}/v2/vectordb/entities/search" \
--header "Authorization: Bearer ${TOKEN}" \
--header "Content-Type: application/json" \
-d '{
    "collectionName": "quick_setup",
    "data": [
        [0.3580376395471989, -0.6023495712049978, 0.18414012509913835, -0.26286205330961354, 0.9029438446296592]
    ],
    "annsField": "vector",
    "limit": 3,
    "offset": 10
}'

  
    
  
```

## ä¸ºæœç´¢ä¸´æ—¶è®¾ç½®æ—¶åŒº

å¦‚æœæ‚¨çš„ Collections æœ‰`TIMESTAMPTZ` å­—æ®µï¼Œæ‚¨å¯ä»¥é€šè¿‡åœ¨æœç´¢è°ƒç”¨ä¸­è®¾ç½®`timezone` å‚æ•°ï¼Œä¸ºå•æ¬¡æ“ä½œä¸´æ—¶è¦†ç›–æ•°æ®åº“æˆ– Collections çš„é»˜è®¤æ—¶åŒºã€‚è¿™å¯ä»¥æ§åˆ¶`TIMESTAMPTZ` å€¼åœ¨æ“ä½œè¿‡ç¨‹ä¸­çš„æ˜¾ç¤ºå’Œæ¯”è¾ƒæ–¹å¼ã€‚

`timezone` çš„å€¼å¿…é¡»æ˜¯æœ‰æ•ˆçš„[IANA æ—¶åŒºæ ‡è¯†ç¬¦](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)ï¼ˆä¾‹å¦‚ï¼Œ**äºšæ´²/ä¸Šæµ·**ã€**ç¾å›½/èŠåŠ å“¥**æˆ–**UTC**ï¼‰ã€‚æœ‰å…³å¦‚ä½•ä½¿ç”¨`TIMESTAMPTZ` å­—æ®µçš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…[TIMESTAMPTZ å­—æ®µ](/docs/zh/timestamptz-field.md)ã€‚

ä¸‹é¢çš„ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä¸ºæœç´¢æ“ä½œä¸´æ—¶è®¾ç½®æ—¶åŒºï¼š

[Python](#python) [Java](#java) [NodeJS](#javascript) [Go](#go) [cURL](#bash)

```python
res = client.search(
    collection_name="quick_setup",
    anns_field="vector",
    data=[query_vector],
    limit=3,
    search_params={"metric_type": "IP"},
    timezone="America/Havana",
)

  
    
  
```

```java
// java

  
    
  
```

```javascript
// js

  
    
  
```

```go
// go

  
    
  
```

```bash
# restful

  
    
  
```

## å¢å¼º ANN æœç´¢

AUTOINDEX å¯å¤§å¤§æ‹‰å¹³ ANN æœç´¢çš„å­¦ä¹ æ›²çº¿ã€‚ç„¶è€Œï¼Œéšç€ Top-K çš„å¢åŠ ï¼Œæœç´¢ç»“æœä¸ä¸€å®šæ€»æ˜¯æ­£ç¡®çš„ã€‚é€šè¿‡ç¼©å°æœç´¢èŒƒå›´ã€æé«˜æœç´¢ç»“æœç›¸å…³æ€§å’Œæœç´¢ç»“æœå¤šæ ·åŒ–ï¼ŒMilvus å®ç°äº†ä»¥ä¸‹æœç´¢å¢å¼ºåŠŸèƒ½ã€‚

-   è¿‡æ»¤æœç´¢

    æ‚¨å¯ä»¥åœ¨æœç´¢è¯·æ±‚ä¸­åŒ…å«è¿‡æ»¤æ¡ä»¶ï¼Œè¿™æ · Milvus å°±ä¼šåœ¨è¿›è¡Œ ANN æœç´¢å‰è¿›è¡Œå…ƒæ•°æ®è¿‡æ»¤ï¼Œå°†æœç´¢èŒƒå›´ä»æ•´ä¸ª Collections ç¼©å°åˆ°åªæœç´¢ç¬¦åˆæŒ‡å®šè¿‡æ»¤æ¡ä»¶çš„å®ä½“ã€‚

    æœ‰å…³å…ƒæ•°æ®è¿‡æ»¤å’Œè¿‡æ»¤æ¡ä»¶çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…[è¿‡æ»¤æœç´¢](/docs/zh/filtered-search.md)ã€[è¿‡æ»¤è§£é‡Š](/docs/zh/boolean.md)å’Œç›¸å…³ä¸»é¢˜ã€‚

-   èŒƒå›´æœç´¢

    æ‚¨å¯ä»¥åœ¨ç‰¹å®šèŒƒå›´å†…é™åˆ¶è¿”å›å®ä½“çš„è·ç¦»æˆ–å¾—åˆ†ï¼Œä»è€Œæé«˜æœç´¢ç»“æœçš„ç›¸å…³æ€§ã€‚åœ¨ Milvus ä¸­ï¼ŒèŒƒå›´æœç´¢åŒ…æ‹¬ä»¥ä¸æŸ¥è¯¢å‘é‡æœ€ç›¸ä¼¼çš„åµŒå…¥å‘é‡ä¸ºä¸­å¿ƒï¼Œç”»ä¸¤ä¸ªåŒå¿ƒåœ†ã€‚æœç´¢è¯·æ±‚æŒ‡å®šäº†ä¸¤ä¸ªåœ†çš„åŠå¾„ï¼ŒMilvus ä¼šè¿”å›æ‰€æœ‰å±äºå¤–åœ†ä½†ä¸å±äºå†…åœ†çš„å‘é‡åµŒå…¥ã€‚

    æœ‰å…³èŒƒå›´æœç´¢çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…[èŒƒå›´æœç´¢](/docs/zh/range-search.md)ã€‚

-   åˆ†ç»„æœç´¢

    å¦‚æœè¿”å›çš„å®ä½“åœ¨ç‰¹å®šå­—æ®µä¸­æŒæœ‰ç›¸åŒçš„å€¼ï¼Œæœç´¢ç»“æœå¯èƒ½æ— æ³•ä»£è¡¨å‘é‡ç©ºé—´ä¸­æ‰€æœ‰å‘é‡åµŒå…¥çš„åˆ†å¸ƒæƒ…å†µã€‚è¦ä½¿æœç´¢ç»“æœå¤šæ ·åŒ–ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨åˆ†ç»„æœç´¢ã€‚

    æœ‰å…³åˆ†ç»„æœç´¢çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…[åˆ†ç»„æœç´¢](/docs/zh/grouping-search.md)ã€

-   æ··åˆæœç´¢

    ä¸€ä¸ª Collections å¯ä»¥åŒ…å«å¤šä¸ªå‘é‡åœºï¼Œä»¥ä¿å­˜ä½¿ç”¨ä¸åŒåµŒå…¥æ¨¡å‹ç”Ÿæˆçš„å‘é‡åµŒå…¥ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥ä½¿ç”¨æ··åˆæœç´¢å¯¹è¿™äº›å‘é‡åœºçš„æœç´¢ç»“æœè¿›è¡Œ Rerankersï¼Œä»è€Œæé«˜å¬å›ç‡ã€‚

    æœ‰å…³æ··åˆæœç´¢çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…[æ··åˆæœç´¢](/docs/zh/multi-vector-search.md)ã€‚

-   æœç´¢è¿­ä»£å™¨

    å•ä¸ª ANN æœç´¢æœ€å¤šå¯è¿”å› 16,384 ä¸ªå®ä½“ã€‚å¦‚æœéœ€è¦åœ¨å•æ¬¡æœç´¢ä¸­è¿”å›æ›´å¤šå®ä½“ï¼Œè¯·è€ƒè™‘ä½¿ç”¨æœç´¢è¿­ä»£å™¨ã€‚

    æœ‰å…³æœç´¢è¿­ä»£å™¨çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…æœç´¢[è¿­ä»£å™¨](/docs/zh/with-iterators.md)ã€‚

-   å…¨æ–‡æœç´¢

    å…¨æ–‡æœç´¢æ˜¯ä¸€ç§åœ¨æ–‡æœ¬æ•°æ®é›†ä¸­æ£€ç´¢åŒ…å«ç‰¹å®šæœ¯è¯­æˆ–çŸ­è¯­çš„æ–‡æ¡£ï¼Œç„¶åæ ¹æ®ç›¸å…³æ€§å¯¹ç»“æœè¿›è¡Œæ’åºçš„åŠŸèƒ½ã€‚è¯¥åŠŸèƒ½å…‹æœäº†è¯­ä¹‰æœç´¢çš„å±€é™æ€§ï¼ˆè¯­ä¹‰æœç´¢å¯èƒ½ä¼šå¿½ç•¥ç²¾ç¡®çš„æœ¯è¯­ï¼‰ï¼Œç¡®ä¿æ‚¨è·å¾—æœ€å‡†ç¡®ä¸”ä¸ä¸Šä¸‹æ–‡æœ€ç›¸å…³çš„ç»“æœã€‚æ­¤å¤–ï¼Œå®ƒè¿˜èƒ½æ¥å—åŸå§‹æ–‡æœ¬è¾“å…¥ï¼Œè‡ªåŠ¨å°†æ–‡æœ¬æ•°æ®è½¬æ¢ä¸ºç¨€ç–åµŒå…¥ï¼Œæ— éœ€æ‰‹åŠ¨ç”Ÿæˆå‘é‡åµŒå…¥ï¼Œä»è€Œç®€åŒ–äº†å‘é‡æœç´¢ã€‚

    æœ‰å…³å…¨æ–‡æœç´¢çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…[å…¨æ–‡æœç´¢](/docs/zh/full-text-search.md)ã€‚

-   æ–‡æœ¬åŒ¹é…

    Milvus ä¸­çš„å…³é”®è¯åŒ¹é…åŠŸèƒ½å¯æ ¹æ®ç‰¹å®šæœ¯è¯­ç²¾ç¡®æ£€ç´¢æ–‡æ¡£ã€‚è¯¥åŠŸèƒ½ä¸»è¦ç”¨äºæ»¡è¶³ç‰¹å®šæ¡ä»¶çš„è¿‡æ»¤æœç´¢ï¼Œå¹¶å¯ç»“åˆæ ‡é‡è¿‡æ»¤æ¥å®Œå–„æŸ¥è¯¢ç»“æœï¼Œå…è®¸åœ¨ç¬¦åˆæ ‡é‡æ ‡å‡†çš„å‘é‡å†…è¿›è¡Œç›¸ä¼¼æ€§æœç´¢ã€‚

    æœ‰å…³å…³é”®å­—åŒ¹é…çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…[å…³é”®å­—åŒ¹é…](/docs/zh/keyword-match.md)ã€‚

-   ä½¿ç”¨ Partition Key

    åœ¨å…ƒæ•°æ®è¿‡æ»¤ä¸­æ¶‰åŠå¤šä¸ªæ ‡é‡å­—æ®µå¹¶ä½¿ç”¨ç›¸å½“å¤æ‚çš„è¿‡æ»¤æ¡ä»¶å¯èƒ½ä¼šå½±å“æœç´¢æ•ˆç‡ã€‚ä¸€æ—¦å°†ä¸€ä¸ªæ ‡é‡å­—æ®µè®¾ç½®ä¸ºåˆ†åŒºå…³é”®å­—ï¼Œå¹¶åœ¨æœç´¢è¯·æ±‚ä¸­ä½¿ç”¨æ¶‰åŠåˆ†åŒºå…³é”®å­—çš„è¿‡æ»¤æ¡ä»¶ï¼Œå°±å¯ä»¥å¸®åŠ©å°†æœç´¢èŒƒå›´é™åˆ¶åœ¨ä¸æŒ‡å®šåˆ†åŒºå…³é”®å­—å€¼ç›¸å¯¹åº”çš„åˆ†åŒºå†…ã€‚

    æœ‰å…³åˆ†åŒºé”®çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…[ä½¿ç”¨åˆ†åŒºé”®](/docs/zh/use-partition-key.md)ã€‚

-   ä½¿ç”¨ mmap

    æœ‰å…³ mmap è®¾ç½®çš„è¯¦æƒ…ï¼Œè¯·å‚é˜…[ä½¿ç”¨ mmap](/docs/zh/mmap.md)ã€‚

-   èšç±»å‹ç¼©

    æœ‰å…³èšç±»å‹ç¼©çš„è¯¦æƒ…ï¼Œè¯·å‚é˜…[èšç±»](/docs/zh/clustering-compaction.md)å‹ç¼©ã€‚

-   ä½¿ç”¨ Reranking

    æœ‰å…³ä½¿ç”¨æ’åå™¨å¢å¼ºæœç´¢ç»“æœç›¸å…³æ€§çš„è¯¦æƒ…ï¼Œè¯·å‚é˜…[è¡°å‡æ’åå™¨æ¦‚è¿°](/docs/zh/decay-ranker-overview.md)å’Œ[æ¨¡å‹æ’åå™¨æ¦‚è¿°](/docs/zh/model-ranker-overview.md)ã€‚


ç¿»è¯‘è‡ª![DeepL](/_next/static/media/deepl.d32c6a10.png)

##### ç›®å½•

-   [åŸºæœ¬å‘é‡æœç´¢](#Basic-Vector-Search)
-   [æ¦‚è¿°](#Overview)
-   [å•å‘é‡æœç´¢](#Single-Vector-Search)
-   [æ‰¹é‡å‘é‡æœç´¢](#Bulk-Vector-Search)
-   [ä¸»é”®æœç´¢Compatible with Milvus 2.6.9+](#Primary-Key-Search--Milvus-269+)
-   [åœ¨åˆ†åŒºä¸­è¿›è¡Œ ANN æœç´¢](#ANN-Search-in-Partition)
-   [ä½¿ç”¨è¾“å‡ºå­—æ®µ](#Use-Output-Fields)
-   [ä½¿ç”¨é™åˆ¶å’Œåç§»](#Use-Limit-and-Offset)
-   [ä¸ºæœç´¢ä¸´æ—¶è®¾ç½®æ—¶åŒº](#Temporarily-set-a-timezone-for-a-search)
-   [å¢å¼º ANN æœç´¢](#Enhancing-ANN-Search)

## æƒ³è¦æ›´å¿«ã€æ›´ç®€å•ã€æ›´å¥½ç”¨çš„ Milvus SaaSæœåŠ¡ ï¼Ÿ

Zilliz Cloudæ˜¯åŸºäºMilvusçš„å…¨æ‰˜ç®¡å‘é‡æ•°æ®åº“ï¼Œæ‹¥æœ‰æ›´é«˜æ€§èƒ½ï¼Œæ›´æ˜“æ‰©å±•ï¼Œä»¥åŠå“è¶Šæ€§ä»·æ¯”

[å…è´¹è¯•ç”¨ Zilliz Cloud](https://cloud.zilliz.com.cn/signup?utm_source=milvusio&utm_medium=referral&utm_campaign=milvus_right_card&utm_content=docs/zh/single-vector-search.md)

##### åé¦ˆ

æ­¤é¡µå¯¹æ‚¨æ˜¯å¦æœ‰å¸®åŠ©?

Ask AI![](/inkeep/milvus-icon-white.png)